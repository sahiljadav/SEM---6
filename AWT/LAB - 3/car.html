<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Car Game</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
    body {
        background: #111;
    }

    #gameContainer {
        width: 400px;
        height: 600px;
        position: relative;
        overflow: hidden;
        margin: 50px auto;
        background: linear-gradient(#444 0%, #222 100%);
        border: 4px solid #0f0;
        border-radius: 15px;
        box-shadow: 0 0 20px #0f0;
    }

    .roadLine {
        position: absolute;
        width: 10px;
        height: 60px;
        background: white;
        left: 50%;
        margin-left: -5px;
        border-radius: 5px;
    }

    #playerCar {
        position: absolute;
        width: 50px;
        height: 100px;
        bottom: 20px;
        left: 175px;
        background: red;
        border-radius: 10px;
        box-shadow: 0 0 15px red;
    }

    .obstacle {
        position: absolute;
        width: 50px;
        height: 100px;
        background: blue;
        top: -120px;
        border-radius: 10px;
        box-shadow: 0 0 15px blue;
    }
</style>
</head>
<body class="flex flex-col items-center justify-center h-screen">

<h1 class="text-green-400 text-3xl font-bold mb-4 drop-shadow-lg">NEON CAR GAME</h1>
<div id="score" class="text-white text-xl mb-2">Score: 0</div>

<div id="gameContainer">
    <div id="playerCar"></div>
</div>

<script>
const gameContainer = document.getElementById("gameContainer");
const playerCar = document.getElementById("playerCar");
const scoreEl = document.getElementById("score");

let player = { x: 175, y: 480, width: 50, height: 100 };
let keys = {};
let obstacles = [];
let score = 0;
let gameOver = false;

// Handle arrow keys
document.addEventListener("keydown", e => keys[e.key] = true);
document.addEventListener("keyup", e => keys[e.key] = false);

// Create obstacles
function createObstacle() {
    const x = Math.floor(Math.random() * 7) * 50 + 50; // lanes
    const obstacle = { x: x, y: -120, width: 50, height: 100, el: document.createElement("div") };
    obstacle.el.classList.add("obstacle");
    obstacle.el.style.left = x + "px";
    gameContainer.appendChild(obstacle.el);
    obstacles.push(obstacle);
}

// Move obstacles
function moveObstacles() {
    for (let i = 0; i < obstacles.length; i++) {
        obstacles[i].y += 5;
        obstacles[i].el.style.top = obstacles[i].y + "px";

        // Collision detection
        if (player.x < obstacles[i].x + obstacles[i].width &&
            player.x + player.width > obstacles[i].x &&
            player.y < obstacles[i].y + obstacles[i].height &&
            player.y + player.height > obstacles[i].y) {
            gameOver = true;
        }

        // Remove off-screen obstacles
        if (obstacles[i].y > 600) {
            obstacles[i].el.remove();
            obstacles.splice(i,1);
            score++;
            scoreEl.innerText = "Score: " + score;
            i--;
        }
    }
}

// Move player
function movePlayer() {
    if (keys["ArrowLeft"] && player.x > 0) player.x -= 7;
    if (keys["ArrowRight"] && player.x < 350) player.x += 7;
    playerCar.style.left = player.x + "px";
}

// Game Loop
function gameLoop() {
    if (gameOver) {
        alert("Game Over! Score: " + score);
        document.location.reload();
        return;
    }

    movePlayer();
    moveObstacles();

    requestAnimationFrame(gameLoop);
}

// Spawn obstacles every 1.5 seconds
setInterval(() => {
    if (!gameOver) createObstacle();
}, 1500);

// Start Game
gameLoop();
</script>

</body>
</html>
